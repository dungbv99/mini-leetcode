--
-- PostgreSQL database dump
--

-- Dumped from database version 14.1 (Debian 14.1-1.pgdg110+1)
-- Dumped by pg_dump version 14.1 (Debian 14.1-1.pgdg110+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: uuid_generate_v1(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.uuid_generate_v1() RETURNS uuid
    LANGUAGE c STRICT PARALLEL SAFE
    AS '$libdir/uuid-ossp', 'uuid_generate_v1';


ALTER FUNCTION public.uuid_generate_v1() OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: application; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.application (
    application_id character varying(255) NOT NULL,
    application_type_id character varying(255) NOT NULL,
    module_id character varying(255),
    permission_id character varying(255),
    description text,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_DATE
);


ALTER TABLE public.application OWNER TO postgres;

--
-- Name: application_type; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.application_type (
    application_type_id character varying(60) NOT NULL,
    description text,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_DATE
);


ALTER TABLE public.application_type OWNER TO postgres;

--
-- Name: contest_contest_problem_new; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.contest_contest_problem_new (
    contest_id character varying(100) NOT NULL,
    problem_id character varying(100) NOT NULL,
    last_updated_stamp timestamp without time zone DEFAULT CURRENT_DATE,
    created_stamp timestamp without time zone DEFAULT CURRENT_DATE
);


ALTER TABLE public.contest_contest_problem_new OWNER TO postgres;

--
-- Name: contest_new; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.contest_new (
    contest_id character varying(100) NOT NULL,
    contest_name character varying(100),
    contest_solving_time integer,
    user_create_id character varying(60),
    try_again boolean,
    public boolean,
    last_updated_stamp timestamp without time zone DEFAULT CURRENT_DATE,
    created_stamp timestamp without time zone DEFAULT CURRENT_DATE
);


ALTER TABLE public.contest_new OWNER TO postgres;

--
-- Name: contest_problem_new; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.contest_problem_new (
    problem_id character varying(100) NOT NULL,
    problem_name character varying(100),
    problem_description text,
    created_by_user_login_id character varying(60),
    time_limit integer,
    memory_limit integer,
    level_id character varying(60),
    category_id character varying(60),
    last_updated_stamp timestamp without time zone DEFAULT CURRENT_DATE,
    created_stamp timestamp without time zone DEFAULT CURRENT_DATE,
    solution text,
    level_order integer,
    correct_solution_source_code text,
    correct_solution_language character varying(10)
);


ALTER TABLE public.contest_problem_new OWNER TO postgres;

--
-- Name: contest_submission_new; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.contest_submission_new (
    contest_submission_id uuid DEFAULT public.uuid_generate_v1() NOT NULL,
    contest_id character varying(100) NOT NULL,
    problem_id character varying(100) NOT NULL,
    user_submission_id character varying(100) NOT NULL,
    problem_submission_id uuid,
    status character varying(20),
    point integer,
    last_updated_stamp date DEFAULT CURRENT_DATE,
    created_stamp date DEFAULT CURRENT_DATE
);


ALTER TABLE public.contest_submission_new OWNER TO postgres;

--
-- Name: notifications; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.notifications (
    id uuid DEFAULT public.uuid_generate_v1() NOT NULL,
    content character varying(500),
    from_user character varying(60),
    to_user character varying(60),
    url character varying(200),
    status_id character varying(60),
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.notifications OWNER TO postgres;

--
-- Name: person; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.person (
    person_id uuid DEFAULT public.uuid_generate_v1() NOT NULL,
    first_name character varying(100),
    middle_name character varying(100),
    last_name character varying(100),
    gender character(1),
    birth_date date,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_DATE,
    status_id character varying(20)
);


ALTER TABLE public.person OWNER TO postgres;

--
-- Name: problem_source_code_new; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.problem_source_code_new (
    problem_source_code_id character varying(70) NOT NULL,
    base_source text,
    main_source text,
    problem_function_default_source text,
    problem_function_solution text,
    language character varying(10),
    contest_problem_id character varying(60),
    last_updated_stamp timestamp without time zone DEFAULT CURRENT_DATE,
    created_stamp timestamp without time zone DEFAULT CURRENT_DATE
);


ALTER TABLE public.problem_source_code_new OWNER TO postgres;

--
-- Name: problem_submission_new; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.problem_submission_new (
    problem_submission_id uuid DEFAULT public.uuid_generate_v1() NOT NULL,
    problem_id character varying(100) NOT NULL,
    submitted_by_user_login_id character varying(60),
    source_code text,
    source_code_language character varying(10),
    status character varying(20),
    score integer,
    runtime character varying(10),
    memory_usage double precision,
    test_case_pass character varying(10),
    created_stamp character varying(25)
);


ALTER TABLE public.problem_submission_new OWNER TO postgres;

--
-- Name: security_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.security_group (
    group_id character varying(60) NOT NULL,
    description text,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    group_name character varying(100)
);


ALTER TABLE public.security_group OWNER TO postgres;

--
-- Name: security_group_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.security_group_permission (
    group_id character varying(60) NOT NULL,
    permission_id character varying(100) NOT NULL,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.security_group_permission OWNER TO postgres;

--
-- Name: security_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.security_permission (
    permission_id character varying(100) NOT NULL,
    description text,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.security_permission OWNER TO postgres;

--
-- Name: status; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.status (
    status_id character varying(60) NOT NULL,
    status_type_id character varying(60),
    status_code character varying(60),
    sequence_id character varying(60),
    description text,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.status OWNER TO postgres;

--
-- Name: status_item; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.status_item (
    status_id character varying(60) NOT NULL,
    status_code character varying(60),
    description text,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.status_item OWNER TO postgres;

--
-- Name: status_type; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.status_type (
    status_type_id character varying(60) NOT NULL,
    parent_type_id character varying(60),
    description text,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.status_type OWNER TO postgres;

--
-- Name: test_case_new; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.test_case_new (
    test_case_id uuid DEFAULT public.uuid_generate_v1() NOT NULL,
    test_case_point integer,
    test_case text,
    correct_answer text,
    contest_problem_id character varying(60),
    last_updated_stamp timestamp without time zone DEFAULT CURRENT_DATE,
    created_stamp timestamp without time zone DEFAULT CURRENT_DATE
);


ALTER TABLE public.test_case_new OWNER TO postgres;

--
-- Name: user_login; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_login (
    user_login_id character varying(255) NOT NULL,
    person_id uuid,
    current_password character varying(60),
    otp_secret character varying(60),
    client_token character varying(512),
    password_hint text,
    is_system boolean,
    enabled boolean,
    has_logged_out boolean,
    require_password_change boolean,
    disabled_date_time timestamp without time zone,
    successive_failed_logins integer,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    otp_resend_number integer DEFAULT 0
);


ALTER TABLE public.user_login OWNER TO postgres;

--
-- Name: user_login_security_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_login_security_group (
    user_login_id character varying(255) NOT NULL,
    group_id character varying(60) NOT NULL,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.user_login_security_group OWNER TO postgres;

--
-- Name: user_register; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_register (
    user_login_id character varying(60) NOT NULL,
    password character varying(100) NOT NULL,
    email character varying(100) NOT NULL,
    first_name character varying(100) NOT NULL,
    middle_name character varying(100) NOT NULL,
    last_name character varying(100) NOT NULL,
    status_id character varying(60),
    registered_roles text NOT NULL,
    affiliations text,
    last_updated_stamp timestamp without time zone,
    created_stamp timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.user_register OWNER TO postgres;

--
-- Name: user_registration_contest_new; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_registration_contest_new (
    user_registration_contest_id uuid DEFAULT public.uuid_generate_v1() NOT NULL,
    user_id character varying(100) NOT NULL,
    contest_id character varying(100) NOT NULL,
    status character varying(20) NOT NULL
);


ALTER TABLE public.user_registration_contest_new OWNER TO postgres;

--
-- Name: user_submission_contest_result_new; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_submission_contest_result_new (
    user_submission_contest_result_id uuid DEFAULT public.uuid_generate_v1() NOT NULL,
    contest_id character varying(100) NOT NULL,
    user_id character varying(100) NOT NULL,
    point integer NOT NULL,
    last_updated_stamp date DEFAULT CURRENT_DATE,
    created_stamp date DEFAULT CURRENT_DATE
);


ALTER TABLE public.user_submission_contest_result_new OWNER TO postgres;

--
-- Data for Name: application; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.application (application_id, application_type_id, module_id, permission_id, description, last_updated_stamp, created_stamp) FROM stdin;
MENU_ADMIN	MENU	\N	\N	MENU ADMIN PRIMARY	\N	2021-11-24 00:00:00
MENU_ADMIN_CHILDREN	MENU	MENU_ADMIN	ADMIN	MENU ADMIN CHILDREN	\N	2021-11-24 00:00:00
MENU_TEACHER	MENU	\N	\N	MENU TEACHER PRIMARY	\N	2021-11-24 00:00:00
MENU_TEACHER_CHILDREN	MENU	MENU_TEACHER	TEACHER	MENU TEACHER CHILDREN	\N	2021-11-24 00:00:00
MENU_STUDENT	MENU	\N	\N	MENU STUDENT PRIMARY	\N	2021-11-24 00:00:00
MENU_STUDENT_CHILDREN	MENU	MENU_STUDENT	STUDENT	MENU STUDENT CHILDREN	\N	2021-11-24 00:00:00
\.


--
-- Data for Name: application_type; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.application_type (application_type_id, description, last_updated_stamp, created_stamp) FROM stdin;
MENU	Menu application type	2021-11-24 16:56:52.165869	2021-11-24 16:56:52.165869
SCREEN	Screen application type	2021-11-24 16:56:52.17212	2021-11-24 16:56:52.17212
MODULE	Module application type	2021-11-24 16:56:52.173926	2021-11-24 16:56:52.173926
SERVICE	Service application type	2021-11-24 16:56:52.175624	2021-11-24 16:56:52.175624
ENTITY	Entity application type	2021-11-24 16:56:52.177323	2021-11-24 16:56:52.177323
\.


--
-- Data for Name: contest_contest_problem_new; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.contest_contest_problem_new (contest_id, problem_id, last_updated_stamp, created_stamp) FROM stdin;
\.


--
-- Data for Name: contest_new; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.contest_new (contest_id, contest_name, contest_solving_time, user_create_id, try_again, public, last_updated_stamp, created_stamp) FROM stdin;
\.


--
-- Data for Name: contest_problem_new; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.contest_problem_new (problem_id, problem_name, problem_description, created_by_user_login_id, time_limit, memory_limit, level_id, category_id, last_updated_stamp, created_stamp, solution, level_order, correct_solution_source_code, correct_solution_language) FROM stdin;
\.


--
-- Data for Name: contest_submission_new; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.contest_submission_new (contest_submission_id, contest_id, problem_id, user_submission_id, problem_submission_id, status, point, last_updated_stamp, created_stamp) FROM stdin;
\.


--
-- Data for Name: notifications; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.notifications (id, content, from_user, to_user, url, status_id, last_updated_stamp, created_stamp) FROM stdin;
7eabcf1c-5669-4664-878f-3e340181402c	Dũng Viet Bui đã đăng kí tài khoản. Phê duyệt ngay.	test1	admin	/user-group/user/approve-register	NOTIFICATION_READ	2021-11-25 00:26:46.131	2021-11-25 00:26:07.179
7576d2c9-96d7-4cd5-8b9e-479d09788685	1 2 3 đã đăng kí tài khoản. Phê duyệt ngay.	test4	admin	/user-group/user/approve-register	NOTIFICATION_CREATED	2021-11-25 08:49:23.299	2021-11-25 08:49:23.299
7190771e-1332-4db8-9aee-614115632c27	Dũng Viet Bui đã đăng kí tài khoản. Phê duyệt ngay.	test2	admin	/user-group/user/approve-register	NOTIFICATION_READ	2021-11-25 08:49:35.86	2021-11-25 00:27:54.428
f7ef50d9-77b4-45c3-b30d-aafdcfede762	1 2 3 đã đăng kí tài khoản. Phê duyệt ngay.	test5	admin	/user-group/user/approve-register	NOTIFICATION_CREATED	2021-11-25 08:56:31.48	2021-11-25 08:56:31.48
1a92d5b2-7016-4a12-990a-c82e6709a24c	2 2 4 đã đăng kí tài khoản. Phê duyệt ngay.	test6	admin	/user-group/user/approve-register	NOTIFICATION_READ	2021-11-25 08:59:51.785	2021-11-25 08:59:40.664
51f1a8b0-30e5-443f-b021-fa46b8160119	Dũng Viet Bui đã đăng kí tài khoản. Phê duyệt ngay.	test111	admin	/user-group/user/approve-register	NOTIFICATION_CREATED	2021-11-25 10:14:43.28	2021-11-25 10:14:43.28
\.


--
-- Data for Name: person; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.person (person_id, first_name, middle_name, last_name, gender, birth_date, last_updated_stamp, created_stamp, status_id) FROM stdin;
f265ff04-4d90-11ec-9f6c-0242ac110002	Bui	Viet	Dung	\N	\N	\N	2021-11-25 00:00:00	PERSON_ENABLED
08fd0809-95bb-469f-966f-64362d1c354e	Dũng	Viet	Bui	\N	\N	\N	2021-11-25 00:00:00	PERSON_ENABLED
6971d571-2b54-40aa-b10d-9132081b0802	1	2	3	\N	\N	\N	2021-11-25 00:00:00	PERSON_ENABLED
\.


--
-- Data for Name: problem_source_code_new; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.problem_source_code_new (problem_source_code_id, base_source, main_source, problem_function_default_source, problem_function_solution, language, contest_problem_id, last_updated_stamp, created_stamp) FROM stdin;
\.


--
-- Data for Name: problem_submission_new; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.problem_submission_new (problem_submission_id, problem_id, submitted_by_user_login_id, source_code, source_code_language, status, score, runtime, memory_usage, test_case_pass, created_stamp) FROM stdin;
\.


--
-- Data for Name: security_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.security_group (group_id, description, last_updated_stamp, created_stamp, group_name) FROM stdin;
ROLE_ADMIN	ADMIN	\N	2021-11-24 16:56:10.295182	ADMIN
ROLE_TEACHER	TEACHER	\N	2021-11-24 16:56:10.299933	TEACHER
ROLE_STUDENT	STUDENT	\N	2021-11-24 16:56:10.301815	STUDENT
\.


--
-- Data for Name: security_group_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.security_group_permission (group_id, permission_id, last_updated_stamp, created_stamp) FROM stdin;
ROLE_ADMIN	ADMIN	\N	2021-11-24 16:56:29.539668
ROLE_TEACHER	TEACHER	\N	2021-11-24 16:56:29.539668
ROLE_STUDENT	STUDENT	\N	2021-11-24 16:56:29.539668
\.


--
-- Data for Name: security_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.security_permission (permission_id, description, last_updated_stamp, created_stamp) FROM stdin;
ADMIN	ADMIN	\N	2021-11-24 16:56:25.783578
TEACHER	TEACHER	\N	2021-11-24 16:56:25.783578
STUDENT	STUDENT	\N	2021-11-24 16:56:25.783578
\.


--
-- Data for Name: status; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.status (status_id, status_type_id, status_code, sequence_id, description, last_updated_stamp, created_stamp) FROM stdin;
PERSON_ENABLED	PERSON_STATUS	ENABLED	0	Đã kích hoạt	2021-11-24 17:13:44.952269	2021-11-24 17:13:44.952269
PERSON_DISABLED	PERSON_STATUS	DISABLED	0	Chua kích hoạt	2021-11-24 17:13:44.954398	2021-11-24 17:13:44.954398
\.


--
-- Data for Name: status_item; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.status_item (status_id, status_code, description, last_updated_stamp, created_stamp) FROM stdin;
USER_REGISTERED	REGISTERED	\N	\N	2021-11-24 16:57:04.924107
USER_APPROVED	APPROVED	\N	\N	2021-11-24 16:57:04.924107
USER_DISABLED	DISABLED	\N	\N	2021-11-24 16:57:04.924107
\.


--
-- Data for Name: status_type; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.status_type (status_type_id, parent_type_id, description, last_updated_stamp, created_stamp) FROM stdin;
PERSON_STATUS	\N	Person status	2021-11-24 17:13:44.947434	2021-11-24 17:13:44.947434
\.


--
-- Data for Name: test_case_new; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.test_case_new (test_case_id, test_case_point, test_case, correct_answer, contest_problem_id, last_updated_stamp, created_stamp) FROM stdin;
\.


--
-- Data for Name: user_login; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_login (user_login_id, person_id, current_password, otp_secret, client_token, password_hint, is_system, enabled, has_logged_out, require_password_change, disabled_date_time, successive_failed_logins, last_updated_stamp, created_stamp, otp_resend_number) FROM stdin;
admin	f265ff04-4d90-11ec-9f6c-0242ac110002	$2a$10$0IOYLdfBGy5whZGnBaqmK.KYvFGcLZPIgtexl8YR9f7FZ79loFk36	\N	\N	\N	f	t	f	f	\N	\N	2021-11-24 16:55:07.652745	2021-11-24 16:55:07.652745	0
test2	08fd0809-95bb-469f-966f-64362d1c354e	$2a$10$2B4dRti7pazWOf33ZU6.n.o7Ni3Apepjtg3w6OBG6Dw4ENlZ1uSpS	\N	\N	\N	f	t	f	f	\N	\N	\N	2021-11-25 08:48:47.755545	0
test5	6971d571-2b54-40aa-b10d-9132081b0802	$2a$10$3jY47zS63q2Pl67TJM7sEOwklaCEtUqau3Frxf0gsMeYbNVdvRR5W	\N	\N	\N	f	t	f	f	\N	\N	\N	2021-11-25 08:57:00.737041	0
\.


--
-- Data for Name: user_login_security_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_login_security_group (user_login_id, group_id, last_updated_stamp, created_stamp) FROM stdin;
admin	ROLE_ADMIN	\N	2021-11-24 16:56:19.207718
admin	ROLE_TEACHER	\N	2021-11-24 16:56:19.207718
admin	ROLE_STUDENT	\N	2021-11-24 16:56:19.207718
test2	ROLE_TEACHER	\N	2021-11-25 08:48:47.755545
test5	ROLE_STUDENT	\N	2021-11-25 08:57:00.737041
\.


--
-- Data for Name: user_register; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_register (user_login_id, password, email, first_name, middle_name, last_name, status_id, registered_roles, affiliations, last_updated_stamp, created_stamp) FROM stdin;
test1	sscm@123456	dung.bv173045@sis.hust.edu.vn	Dũng	Viet	Bui	USER_DISABLED	ROLE_STUDENT	\N	\N	2021-11-25 00:26:07.140607
test2	sscm@123456	dung.bv173045@sis.hust.edu.vn	Dũng	Viet	Bui	USER_APPROVED	ROLE_TEACHER	\N	\N	2021-11-25 00:27:54.423904
test4	sscm@123456	matdieuhau999@gmail.com	1	2	3	USER_DISABLED	ROLE_STUDENT	\N	\N	2021-11-25 08:49:23.254192
test5	sscm@123456	dung.bv173045@sis.hust.edu.vn	1	2	3	USER_APPROVED	ROLE_STUDENT	\N	\N	2021-11-25 08:56:31.474416
test6	sscm@123456	matdieuhau999@gmail.com	2	2	4	USER_REGISTERED	ROLE_TEACHER	\N	\N	2021-11-25 08:59:40.572411
test111	sscm@123456	dung.bv173045@sis.hust.edu.vn	Dũng	Viet	Bui	USER_REGISTERED	ROLE_STUDENT	\N	\N	2021-11-25 10:14:43.151863
\.


--
-- Data for Name: user_registration_contest_new; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_registration_contest_new (user_registration_contest_id, user_id, contest_id, status) FROM stdin;
\.


--
-- Data for Name: user_submission_contest_result_new; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_submission_contest_result_new (user_submission_contest_result_id, contest_id, user_id, point, last_updated_stamp, created_stamp) FROM stdin;
\.


--
-- Name: contest_problem_new contest_problem_new_problem_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_problem_new
    ADD CONSTRAINT contest_problem_new_problem_name_key UNIQUE (problem_name);


--
-- Name: problem_submission_new fk_problem_submission_id; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.problem_submission_new
    ADD CONSTRAINT fk_problem_submission_id PRIMARY KEY (problem_submission_id);


--
-- Name: application pk_application; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.application
    ADD CONSTRAINT pk_application PRIMARY KEY (application_id);


--
-- Name: application_type pk_application_type; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.application_type
    ADD CONSTRAINT pk_application_type PRIMARY KEY (application_type_id);


--
-- Name: contest_new pk_contest_id; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_new
    ADD CONSTRAINT pk_contest_id PRIMARY KEY (contest_id);


--
-- Name: contest_problem_new pk_contest_problem; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_problem_new
    ADD CONSTRAINT pk_contest_problem PRIMARY KEY (problem_id);


--
-- Name: test_case_new pk_contest_problem_test_case; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.test_case_new
    ADD CONSTRAINT pk_contest_problem_test_case PRIMARY KEY (test_case_id);


--
-- Name: contest_submission_new pk_contest_submission_id_contest_submission; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_submission_new
    ADD CONSTRAINT pk_contest_submission_id_contest_submission PRIMARY KEY (contest_submission_id);


--
-- Name: notifications pk_notification_id; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT pk_notification_id PRIMARY KEY (id);


--
-- Name: person pk_person_id; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.person
    ADD CONSTRAINT pk_person_id PRIMARY KEY (person_id);


--
-- Name: user_register pk_register__login; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_register
    ADD CONSTRAINT pk_register__login PRIMARY KEY (user_login_id);


--
-- Name: security_group pk_security_group; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.security_group
    ADD CONSTRAINT pk_security_group PRIMARY KEY (group_id);


--
-- Name: security_group_permission pk_security_group_permission; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.security_group_permission
    ADD CONSTRAINT pk_security_group_permission PRIMARY KEY (group_id, permission_id);


--
-- Name: security_permission pk_security_permission; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.security_permission
    ADD CONSTRAINT pk_security_permission PRIMARY KEY (permission_id);


--
-- Name: problem_source_code_new pk_source_code; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.problem_source_code_new
    ADD CONSTRAINT pk_source_code PRIMARY KEY (problem_source_code_id);


--
-- Name: status pk_status; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.status
    ADD CONSTRAINT pk_status PRIMARY KEY (status_id);


--
-- Name: status_item pk_status_id; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.status_item
    ADD CONSTRAINT pk_status_id PRIMARY KEY (status_id);


--
-- Name: status_type pk_status_type; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.status_type
    ADD CONSTRAINT pk_status_type PRIMARY KEY (status_type_id);


--
-- Name: user_login pk_user_login; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_login
    ADD CONSTRAINT pk_user_login PRIMARY KEY (user_login_id);


--
-- Name: user_login_security_group pk_user_login_security_group; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_login_security_group
    ADD CONSTRAINT pk_user_login_security_group PRIMARY KEY (user_login_id, group_id);


--
-- Name: user_submission_contest_result_new pk_user_submission_result_id_user_submission_result; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_submission_contest_result_new
    ADD CONSTRAINT pk_user_submission_result_id_user_submission_result PRIMARY KEY (user_submission_contest_result_id);


--
-- Name: user_login user_login_person_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_login
    ADD CONSTRAINT user_login_person_id_key UNIQUE (person_id);


--
-- Name: application application_application_module; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.application
    ADD CONSTRAINT application_application_module FOREIGN KEY (module_id) REFERENCES public.application(application_id);


--
-- Name: application application_application_type; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.application
    ADD CONSTRAINT application_application_type FOREIGN KEY (application_type_id) REFERENCES public.application_type(application_type_id);


--
-- Name: application application_permission; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.application
    ADD CONSTRAINT application_permission FOREIGN KEY (permission_id) REFERENCES public.security_permission(permission_id);


--
-- Name: contest_contest_problem_new fk_contest_id_contest_contest_problem; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_contest_problem_new
    ADD CONSTRAINT fk_contest_id_contest_contest_problem FOREIGN KEY (contest_id) REFERENCES public.contest_new(contest_id);


--
-- Name: contest_submission_new fk_contest_id_contest_submission; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_submission_new
    ADD CONSTRAINT fk_contest_id_contest_submission FOREIGN KEY (contest_id) REFERENCES public.contest_new(contest_id);


--
-- Name: user_registration_contest_new fk_contest_id_user_registration_contest; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_registration_contest_new
    ADD CONSTRAINT fk_contest_id_user_registration_contest FOREIGN KEY (contest_id) REFERENCES public.contest_new(contest_id);


--
-- Name: user_submission_contest_result_new fk_contest_id_user_submission_result; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_submission_contest_result_new
    ADD CONSTRAINT fk_contest_id_user_submission_result FOREIGN KEY (contest_id) REFERENCES public.contest_new(contest_id);


--
-- Name: contest_problem_new fk_contest_problem; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_problem_new
    ADD CONSTRAINT fk_contest_problem FOREIGN KEY (created_by_user_login_id) REFERENCES public.user_login(user_login_id);


--
-- Name: problem_source_code_new fk_contest_problem; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.problem_source_code_new
    ADD CONSTRAINT fk_contest_problem FOREIGN KEY (contest_problem_id) REFERENCES public.contest_problem_new(problem_id);


--
-- Name: test_case_new fk_contest_problem_test_case_problem_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.test_case_new
    ADD CONSTRAINT fk_contest_problem_test_case_problem_id FOREIGN KEY (contest_problem_id) REFERENCES public.contest_problem_new(problem_id);


--
-- Name: notifications fk_notification_user_login_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT fk_notification_user_login_id FOREIGN KEY (to_user) REFERENCES public.user_login(user_login_id);


--
-- Name: problem_submission_new fk_problem_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.problem_submission_new
    ADD CONSTRAINT fk_problem_id FOREIGN KEY (problem_id) REFERENCES public.contest_problem_new(problem_id);


--
-- Name: contest_contest_problem_new fk_problem_id_contest_contest_problem; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_contest_problem_new
    ADD CONSTRAINT fk_problem_id_contest_contest_problem FOREIGN KEY (problem_id) REFERENCES public.contest_problem_new(problem_id);


--
-- Name: contest_submission_new fk_problem_id_contest_submission; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_submission_new
    ADD CONSTRAINT fk_problem_id_contest_submission FOREIGN KEY (problem_id) REFERENCES public.contest_problem_new(problem_id);


--
-- Name: contest_submission_new fk_problem_submission_id_contest_submission; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_submission_new
    ADD CONSTRAINT fk_problem_submission_id_contest_submission FOREIGN KEY (problem_submission_id) REFERENCES public.problem_submission_new(problem_submission_id);


--
-- Name: user_register fk_register_status; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_register
    ADD CONSTRAINT fk_register_status FOREIGN KEY (status_id) REFERENCES public.status_item(status_id);


--
-- Name: person fk_status_id_person; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.person
    ADD CONSTRAINT fk_status_id_person FOREIGN KEY (status_id) REFERENCES public.status(status_id);


--
-- Name: contest_new fk_user_create_contest; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_new
    ADD CONSTRAINT fk_user_create_contest FOREIGN KEY (user_create_id) REFERENCES public.user_login(user_login_id);


--
-- Name: user_registration_contest_new fk_user_id_user_registration_contest; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_registration_contest_new
    ADD CONSTRAINT fk_user_id_user_registration_contest FOREIGN KEY (user_id) REFERENCES public.user_login(user_login_id);


--
-- Name: user_submission_contest_result_new fk_user_id_user_submission_result; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_submission_contest_result_new
    ADD CONSTRAINT fk_user_id_user_submission_result FOREIGN KEY (user_id) REFERENCES public.user_login(user_login_id);


--
-- Name: problem_submission_new fk_user_login_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.problem_submission_new
    ADD CONSTRAINT fk_user_login_id FOREIGN KEY (submitted_by_user_login_id) REFERENCES public.user_login(user_login_id);


--
-- Name: contest_submission_new fk_user_submission_id_contest_submission; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.contest_submission_new
    ADD CONSTRAINT fk_user_submission_id_contest_submission FOREIGN KEY (user_submission_id) REFERENCES public.user_login(user_login_id);


--
-- Name: user_login pk_person_id_user_login; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_login
    ADD CONSTRAINT pk_person_id_user_login FOREIGN KEY (person_id) REFERENCES public.person(person_id);


--
-- Name: security_group_permission sec_grp_perm_grp; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.security_group_permission
    ADD CONSTRAINT sec_grp_perm_grp FOREIGN KEY (group_id) REFERENCES public.security_group(group_id);


--
-- Name: security_group_permission sec_grp_perm_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.security_group_permission
    ADD CONSTRAINT sec_grp_perm_perm FOREIGN KEY (permission_id) REFERENCES public.security_permission(permission_id);


--
-- Name: status status_to_type; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.status
    ADD CONSTRAINT status_to_type FOREIGN KEY (status_type_id) REFERENCES public.status_type(status_type_id);


--
-- Name: status_type status_type_parent; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.status_type
    ADD CONSTRAINT status_type_parent FOREIGN KEY (parent_type_id) REFERENCES public.status_type(status_type_id);


--
-- Name: user_login_security_group user_secgrp_grp; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_login_security_group
    ADD CONSTRAINT user_secgrp_grp FOREIGN KEY (group_id) REFERENCES public.security_group(group_id);


--
-- Name: user_login_security_group user_secgrp_user; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_login_security_group
    ADD CONSTRAINT user_secgrp_user FOREIGN KEY (user_login_id) REFERENCES public.user_login(user_login_id);


--
-- PostgreSQL database dump complete
--

